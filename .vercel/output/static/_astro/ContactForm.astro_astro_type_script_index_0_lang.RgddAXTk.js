import{g as l}from"./index.CB87Sc6I.js";import{S as f}from"./ScrollTrigger.Cv03IO65.js";l.registerPlugin(f);l.from(".contact-container",{scrollTrigger:{trigger:"#contacto",start:"top 75%"},y:60,opacity:0,duration:1,ease:"power3.out",clearProps:"all"});const a=document.getElementById("contactForm"),r=document.getElementById("submitBtn"),d=document.getElementById("btnText"),m=document.getElementById("btnLoader");a&&a.addEventListener("submit",async p=>{p.preventDefault(),r.disabled=!0,r.classList.add("opacity-75","cursor-not-allowed"),d?.classList.add("hidden"),m?.classList.remove("hidden");const u=new FormData(a),n=Object.fromEntries(u.entries());try{const t=await new Promise(s=>{grecaptcha.ready(()=>{grecaptcha.execute("6Lc-ZTssAAAAACTEL6IdjzMRAKFUkD3B6MP5IzF8",{action:"submit"}).then(g=>{s(g)})})});n.recaptchaToken=t;const e=await fetch("/api/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)});console.log("Response status:",e.status);const c=e.headers.get("content-type");let o;if(c&&c.includes("application/json"))o=await e.json();else{const s=await e.text();throw console.error("Non-JSON response:",s),new Error("El servidor devolvió una respuesta inesperada.")}e.ok?window.location.href="/gracias":(console.error("Server Error:",o),alert(`Error: ${o.message||"Hubo un error al enviar el formulario."}

Detalles: ${o.error||""}`),i())}catch(t){console.error("Submission Error:",t),alert(`Error de conexión o del servidor.

Revisa la consola para más detalles (F12). 

Mensaje: ${t.message}`),i()}});function i(){r.disabled=!1,r.classList.remove("opacity-75","cursor-not-allowed"),d?.classList.remove("hidden"),m?.classList.add("hidden")}
