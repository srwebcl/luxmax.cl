---

---

<section
    class="relative min-h-screen w-full overflow-hidden flex flex-col justify-center pt-32 md:pt-40 pb-16"
    id="hero-section"
>
    <!-- Background Image Slider -->
    <div class="absolute inset-0 z-0">
        <!-- Enhanced Overlay: Gradient to make text pop -->
        <div
            class="absolute inset-0 bg-gradient-to-t from-slate-900/95 via-slate-900/50 to-slate-900/70 z-10"
        >
        </div>

        <div class="hero-bg-wrapper absolute inset-0 w-full h-full">
            <img
                src="/images/hero-section-1.jpeg"
                alt="Servicio TÃ©cnico Lux Max"
                class="hero-bg absolute inset-0 w-full h-full object-cover opacity-100"
            />
            <img
                src="/images/hero-section-2.jpeg"
                alt="ReparaciÃ³n de Lavadoras"
                class="hero-bg absolute inset-0 w-full h-full object-cover opacity-0"
            />
        </div>
    </div>

    <!-- Content -->
    <div class="container mx-auto px-4 relative z-20">
        <div
            class="max-w-5xl mx-auto text-center flex flex-col items-center gap-6 hero-content"
        >
            <div
                class="inline-block bg-blue-600/80 backdrop-blur-md border border-blue-400/50 text-white text-xs md:text-base font-bold px-5 py-2 rounded-full shadow-[0_0_20px_rgba(37,99,235,0.5)] transform hover:scale-105 transition-transform"
            >
                ðŸš€ Llegamos en 24 horas o menos
            </div>

            <h1
                class="text-4xl sm:text-5xl md:text-6xl lg:text-7xl font-black text-white leading-[1.1] tracking-tight drop-shadow-2xl"
            >
                Servicio TÃ©cnico de <br class="hidden md:block" />
                <span
                    class="block md:inline text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300 filter drop-shadow-lg"
                    >Lavadoras</span
                ><span class="hidden md:inline">, </span>
                <span
                    class="block md:inline text-transparent bg-clip-text bg-gradient-to-r from-blue-400 to-cyan-300 filter drop-shadow-lg"
                    >Secadoras</span
                >
                <span class="block md:inline text-white">y</span>
                <span
                    class="block md:inline text-transparent bg-clip-text bg-gradient-to-r from-orange-400 to-yellow-300 filter drop-shadow-lg"
                    >Cocinas</span
                >

                <span
                    class="block mt-3 text-lg sm:text-xl md:text-3xl font-bold text-slate-200 tracking-normal opacity-90"
                >
                    en La Serena y Coquimbo
                </span>
            </h1>

            <p
                class="text-base sm:text-lg md:text-xl text-slate-100 max-w-3xl mx-auto leading-relaxed font-medium drop-shadow-md pb-2 px-4"
            >
                Expertos en <span
                    class="text-white font-bold underline decoration-blue-500 underline-offset-4"
                    >ReparaciÃ³n Multimarca</span
                > garantizada a domicilio.
            </p>

            <div
                class="flex flex-col sm:flex-row gap-4 justify-center items-center w-full px-4"
            >
                <a
                    href="https://wa.me/56967140558?text=Hola%20Lux%20Max,%20necesito%20agendar%20una%20visita%20t%C3%A9cnica%20urgente%20para%20un%20electrodom%C3%A9stico."
                    target="_blank"
                    rel="noopener noreferrer"
                    onclick="return window.gtag_report_conversion_whatsapp(this.href);"
                    class="cta-button w-full sm:w-auto bg-gradient-to-r from-green-500 to-green-600 hover:from-green-400 hover:to-green-500 text-white font-black py-4 px-8 md:py-5 md:px-10 rounded-2xl shadow-[0_0_30px_rgba(34,197,94,0.4)] transition-all duration-300 transform hover:-translate-y-2 hover:shadow-[0_0_40px_rgba(34,197,94,0.6)] flex items-center justify-center gap-3 text-lg md:text-xl relative overflow-hidden group border-2 border-green-400/50"
                >
                    <span
                        class="absolute top-0 -left-[100%] w-full h-full bg-gradient-to-r from-transparent via-white/40 to-transparent skew-x-12 group-hover:animate-shine"
                    ></span>
                    <span class="relative z-10 text-2xl">ðŸ“…</span>
                    <span class="relative z-10 whitespace-nowrap"
                        >AGENDAR VISITA</span
                    >
                </a>
            </div>
        </div>
    </div>
</section>

<style>
    @keyframes shine {
        100% {
            left: 125%;
        }
    }
    .animate-shine {
        animation: shine 0.75s;
    }
</style>

<script>
    import { gsap } from "gsap";

    // Content Reveal
    const heroContent = document.querySelector(".hero-content");
    if (heroContent) {
        const tl = gsap.timeline({ defaults: { ease: "power3.out" } });

        tl.to(heroContent, { opacity: 1, duration: 0 }); // Make container visible immediately to layout engine

        // Animate children with simple fade-in to avoid layout shifts
        tl.from(heroContent.children, {
            opacity: 0,
            y: 30, // Reduced movement
            duration: 1,
            stagger: 0.15,
            clearProps: "all", // CRITICAL: remove inline styles after animation to restore pure CSS layout
        });
    }

    // Background Slider
    const bgs = document.querySelectorAll(".hero-bg");
    if (bgs.length > 1) {
        let current = 0;
        const duration = 5; // time per slide

        // Ensure first is visible
        gsap.set(bgs[0], { opacity: 1, scale: 1.05 }); // subtle zoom start
        gsap.set(bgs[1], { opacity: 0, scale: 1 });

        // Continuous zoom effect for dynamic feel
        gsap.to(bgs[0], { scale: 1.1, duration: duration + 1.5, ease: "none" });

        function nextBg() {
            const next = (current + 1) % bgs.length;
            const tlBg = gsap.timeline();

            // Next slide setup
            tlBg.set(bgs[next], { scale: 1.05 }); // Reset zoom for next

            // Crossfade
            tlBg.to(bgs[current], {
                opacity: 0,
                duration: 1.5,
                ease: "power1.inOut",
            });
            tlBg.to(
                bgs[next],
                { opacity: 1, duration: 1.5, ease: "power1.inOut" },
                "<",
            );

            // Animate scale of next
            gsap.to(bgs[next], {
                scale: 1.1,
                duration: duration + 1.5,
                ease: "none",
            });

            current = next;
            gsap.delayedCall(duration, nextBg);
        }

        gsap.delayedCall(duration, nextBg);
    }

    // CTA Button Pulse
    const ctaBtn = document.querySelector(".cta-button");
    if (ctaBtn) {
        gsap.to(ctaBtn, {
            scale: 1.02,
            duration: 0.8,
            repeat: -1,
            yoyo: true,
            ease: "sine.inOut",
        });
    }
</script>
